---
import Layout from '../../layouts/Layout.astro';
import SectionHero from '../../components/SectionHero.astro';
import AlgorithmCard from '../../components/AlgorithmCard.astro';
import { categories, getAlgorithmsByCategory } from '../../data/algorithms';

const section = categories['local'];
const algorithms = getAlgorithmsByCategory('local');
---

<Layout title={`${section.title} - Search Algorithms`} description={section.description}>
  <SectionHero
    title={section.title}
    subtitle={section.subtitle}
    description={section.description}
  />

  <section class="intro-section">
    <h2>Un Enfoque Diferente: Optimizaci√≥n Local</h2>
    <p>
      A diferencia de los algoritmos de b√∫squeda sistem√°tica, la b√∫squeda local opera
      sobre una soluci√≥n √∫nica que va mejorando iterativamente. Son especialmente √∫tiles
      para problemas de optimizaci√≥n donde el camino hacia la soluci√≥n no importa,
      solo la calidad de la soluci√≥n final.
    </p>

    <div class="key-differences">
      <div class="diff-card search">
        <h3>üîç B√∫squeda Tradicional</h3>
        <ul>
          <li>Mantiene m√∫ltiples caminos</li>
          <li>Explora sistem√°ticamente</li>
          <li>Garant√≠as de completitud</li>
          <li>Alto uso de memoria</li>
          <li>Encuentra caminos √≥ptimos</li>
        </ul>
      </div>

      <div class="diff-card local">
        <h3>üéØ B√∫squeda Local</h3>
        <ul>
          <li>Una soluci√≥n actual</li>
          <li>Mejora iterativamente</li>
          <li>Sin garant√≠as globales</li>
          <li>Memoria constante O(1)</li>
          <li>Optimiza estados finales</li>
        </ul>
      </div>
    </div>
  </section>

  <section class="algorithms-section">
    <h2>Algoritmos de B√∫squeda Local</h2>
    <div class="algorithms-grid">
      {algorithms.map(algo => (
        <AlgorithmCard
          title={algo.title}
          description={algo.description}
          href={`/algoritmos/${algo.id}`}
          complexity={algo.complexity.time}
          optimal={algo.optimal}
        />
      ))}
    </div>
  </section>

  <section class="landscape-section">
    <h2>Navegando el Paisaje de Soluciones</h2>
    <p>
      La b√∫squeda local puede visualizarse como navegar un paisaje donde la altura
      representa la calidad de la soluci√≥n. El objetivo es encontrar picos (m√°ximos)
      o valles (m√≠nimos) dependiendo del problema.
    </p>

    <div class="landscape-problems">
      <div class="problem-card">
        <h3>üèîÔ∏è M√°ximos Locales</h3>
        <p>
          El algoritmo se "atasca" en una soluci√≥n que es mejor que todos sus vecinos,
          pero no es la mejor globalmente.
        </p>
        <div class="solution">
          <strong>Soluciones:</strong> Random restart, Simulated annealing
        </div>
      </div>

      <div class="problem-card">
        <h3>üèúÔ∏è Mesetas</h3>
        <p>
          Regiones planas donde todos los vecinos tienen el mismo valor, haciendo
          dif√≠cil decidir qu√© direcci√≥n tomar.
        </p>
        <div class="solution">
          <strong>Soluciones:</strong> Movimientos aleatorios, Tabu search
        </div>
      </div>

      <div class="problem-card">
        <h3>‚õ∞Ô∏è Cordilleras</h3>
        <p>
          Secuencias de m√°ximos locales conectados por valles, requiriendo movimientos
          que temporalmente empeoran la soluci√≥n.
        </p>
        <div class="solution">
          <strong>Soluciones:</strong> Simulated annealing, Genetic algorithms
        </div>
      </div>
    </div>
  </section>

  <section class="applications-section">
    <h2>Aplicaciones de la B√∫squeda Local</h2>
    <div class="applications-grid">
      <div class="app-card">
        <h3>üì¶ Traveling Salesman Problem (TSP)</h3>
        <p>
          Encontrar la ruta m√°s corta que visite todas las ciudades exactamente una vez.
        </p>
        <div class="app-details">
          <p><strong>Representaci√≥n:</strong> Permutaci√≥n de ciudades</p>
          <p><strong>Operadores:</strong> 2-opt, 3-opt, intercambio de ciudades</p>
          <p><strong>Funci√≥n objetivo:</strong> Minimizar distancia total</p>
        </div>
      </div>

      <div class="app-card">
        <h3>üìã Scheduling</h3>
        <p>
          Asignar tareas a recursos (m√°quinas, personas) optimizando tiempo o costo.
        </p>
        <div class="app-details">
          <p><strong>Representaci√≥n:</strong> Asignaci√≥n tarea ‚Üí recurso</p>
          <p><strong>Operadores:</strong> Reasignar tareas, cambiar orden</p>
          <p><strong>Funci√≥n objetivo:</strong> Minimizar makespan o costo</p>
        </div>
      </div>

      <div class="app-card">
        <h3>üß¨ Optimizaci√≥n de Par√°metros</h3>
        <p>
          Ajustar par√°metros de modelos de machine learning o sistemas complejos.
        </p>
        <div class="app-details">
          <p><strong>Representaci√≥n:</strong> Vector de par√°metros reales</p>
          <p><strong>Operadores:</strong> Perturbaci√≥n gaussiana, crossover</p>
          <p><strong>Funci√≥n objetivo:</strong> Minimizar error o maximizar precisi√≥n</p>
        </div>
      </div>

      <div class="app-card">
        <h3>üèóÔ∏è Circuit Design</h3>
        <p>
          Optimizar el layout de circuitos integrados para minimizar √°rea y delay.
        </p>
        <div class="app-details">
          <p><strong>Representaci√≥n:</strong> Posiciones de componentes</p>
          <p><strong>Operadores:</strong> Mover, rotar, intercambiar componentes</p>
          <p><strong>Funci√≥n objetivo:</strong> Minimizar √°rea y conexiones</p>
        </div>
      </div>
    </div>
  </section>

  <section class="techniques-section">
    <h2>T√©cnicas Avanzadas</h2>
    <div class="techniques-grid">
      <div class="technique-card">
        <h3>üîÑ Random Restart</h3>
        <p>
          Ejecutar hill climbing m√∫ltiples veces desde diferentes estados iniciales
          aleatorios para evitar quedar atrapado en m√°ximos locales.
        </p>
        <div class="formula">
          Probabilidad de √©xito ‚âà 1 - (1 - p)‚Åø
        </div>
        <p class="formula-desc">donde p es la probabilidad de √©xito por intento</p>
      </div>

      <div class="technique-card">
        <h3>üå°Ô∏è Cooling Schedules</h3>
        <p>
          En simulated annealing, diferentes estrategias para reducir la temperatura
          afectan el balance entre exploraci√≥n y explotaci√≥n.
        </p>
        <div class="cooling-types">
          <p><strong>Lineal:</strong> T(t) = T‚ÇÄ - Œ±t</p>
          <p><strong>Exponencial:</strong> T(t) = T‚ÇÄ √ó Œ≥·µó</p>
          <p><strong>Logar√≠tmica:</strong> T(t) = T‚ÇÄ / log(t+1)</p>
        </div>
      </div>

      <div class="technique-card">
        <h3>üö´ Tabu Search</h3>
        <p>
          Mantiene una lista de movimientos "prohibidos" para evitar ciclos y
          explorar nuevas regiones del espacio de b√∫squeda.
        </p>
        <div class="tabu-features">
          <p><strong>Lista tab√∫:</strong> Movimientos recientes prohibidos</p>
          <p><strong>Criterio de aspiraci√≥n:</strong> Permitir movimientos tab√∫ excepcionales</p>
          <p><strong>Diversificaci√≥n:</strong> Forzar exploraci√≥n de nuevas √°reas</p>
        </div>
      </div>

      <div class="technique-card">
        <h3>üß¨ Evolutionary Methods</h3>
        <p>
          Mantienen una poblaci√≥n de soluciones que evolucionan usando operadores
          inspirados en la evoluci√≥n biol√≥gica.
        </p>
        <div class="evo-operators">
          <p><strong>Selecci√≥n:</strong> Elegir padres basado en fitness</p>
          <p><strong>Crossover:</strong> Combinar soluciones parentales</p>
          <p><strong>Mutaci√≥n:</strong> Introducir variaciones aleatorias</p>
        </div>
      </div>
    </div>
  </section>

  <section class="comparison-table-section">
    <h2>Comparaci√≥n de M√©todos</h2>
    <div class="table-container">
      <table class="comparison-table">
        <thead>
          <tr>
            <th>Caracter√≠stica</th>
            <th>Hill Climbing</th>
            <th>Simulated Annealing</th>
            <th>Tabu Search</th>
            <th>Genetic Algorithm</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Memoria requerida</td>
            <td>O(1)</td>
            <td>O(1)</td>
            <td>O(k)</td>
            <td>O(n√óp)</td>
          </tr>
          <tr>
            <td>Escapa m√°ximos locales</td>
            <td>No</td>
            <td>S√≠</td>
            <td>S√≠</td>
            <td>S√≠</td>
          </tr>
          <tr>
            <td>Par√°metros a ajustar</td>
            <td>Ninguno</td>
            <td>T‚ÇÄ, schedule</td>
            <td>Tabu size</td>
            <td>Pop size, rates</td>
          </tr>
          <tr>
            <td>Mejor para</td>
            <td>Problemas convexos</td>
            <td>Optimizaci√≥n global</td>
            <td>Problemas discretos</td>
            <td>Problemas complejos</td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>

  <section class="next-section">
    <div class="next-content">
      <h2>Siguiente: B√∫squeda Adversaria</h2>
      <p>
        Explora algoritmos para toma de decisiones en entornos competitivos
        donde hay oponentes inteligentes.
      </p>
      <a href="/secciones/adversaria" class="next-button">
        Explorar B√∫squeda Adversaria ‚Üí
      </a>
    </div>
  </section>

  <style>
    .intro-section {
      margin-bottom: 4rem;
    }

    .intro-section h2 {
      font-size: 2rem;
      margin-bottom: 1.5rem;
      color: var(--color-text);
    }

    .intro-section p {
      font-size: 1.125rem;
      line-height: 1.7;
      color: var(--color-text-muted);
      margin-bottom: 2rem;
    }

    .key-differences {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin: 2rem 0;
    }

    .diff-card {
      border-radius: 8px;
      padding: 2rem;
      color: white;
    }

    .diff-card.search {
      background: var(--color-code-bg);
    }

    .diff-card.local {
      background: var(--color-code-bg);
    }

    .diff-card h3 {
      margin-bottom: 1.5rem;
      font-size: 1.25rem;
    }

    .diff-card ul {
      list-style: none;
      padding: 0;
    }

    .diff-card li {
      padding: 0.5rem 0;
      position: relative;
      padding-left: 1.5rem;
    }

    .diff-card li::before {
      content: "‚Ä¢";
      position: absolute;
      left: 0;
      color: white;
      font-weight: bold;
    }

    .algorithms-section {
      margin-bottom: 4rem;
    }

    .algorithms-section h2 {
      font-size: 2rem;
      margin-bottom: 2rem;
      color: var(--color-text);
      text-align: center;
    }

    .algorithms-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
    }

    .landscape-section {
      margin-bottom: 4rem;
    }

    .landscape-section h2 {
      font-size: 2rem;
      margin-bottom: 1.5rem;
      color: var(--color-text);
      text-align: center;
    }

    .landscape-section p {
      font-size: 1.125rem;
      line-height: 1.7;
      color: var(--color-text-muted);
      margin-bottom: 2rem;
      text-align: center;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }

    .landscape-problems {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
    }

    .problem-card {
      background: var(--color-card-bg);
      border: 1px solid var(--color-border);
      border-radius: 8px;
      padding: 1.5rem;
    }

    .problem-card h3 {
      color: var(--color-accent);
      margin-bottom: 1rem;
      font-size: 1.25rem;
    }

    .problem-card p {
      color: var(--color-text-muted);
      font-size: 0.9rem;
      line-height: 1.6;
      margin-bottom: 1rem;
    }

    .solution {
      background: #f0f9ff;
      padding: 1rem;
      border-radius: 6px;
      font-size: 0.875rem;
      color: var(--color-text);
    }

    .applications-section {
      margin-bottom: 4rem;
    }

    .applications-section h2 {
      font-size: 2rem;
      margin-bottom: 2rem;
      color: var(--color-text);
      text-align: center;
    }

    .applications-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
    }

    .app-card {
      background: var(--color-card-bg);
      border: 1px solid var(--color-border);
      border-radius: 8px;
      padding: 1.5rem;
      transition: transform 0.2s ease;
    }

    .app-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .app-card h3 {
      color: var(--color-accent);
      margin-bottom: 1rem;
      font-size: 1.125rem;
    }

    .app-card > p {
      color: var(--color-text-muted);
      font-size: 0.9rem;
      line-height: 1.6;
      margin-bottom: 1rem;
    }

    .app-details {
      background: var(--color-card-bg);
      padding: 1rem;
      border-radius: 6px;
    }

    .app-details p {
      margin: 0.5rem 0;
      font-size: 0.875rem;
      color: var(--color-text);
    }

    .techniques-section {
      margin-bottom: 4rem;
    }

    .techniques-section h2 {
      font-size: 2rem;
      margin-bottom: 2rem;
      color: var(--color-text);
      text-align: center;
    }

    .techniques-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
    }

    .technique-card {
      background: var(--color-card-bg);
      border: 1px solid var(--color-border);
      border-radius: 8px;
      padding: 1.5rem;
    }

    .technique-card h3 {
      color: var(--color-accent);
      margin-bottom: 1rem;
      font-size: 1.125rem;
    }

    .technique-card p {
      color: var(--color-text-muted);
      font-size: 0.9rem;
      line-height: 1.6;
      margin-bottom: 1rem;
    }

    .formula {
      background: var(--color-code-bg);
      padding: 1rem;
      border-radius: 6px;
      font-family: var(--font-mono);
      font-size: 0.875rem;
      color: var(--color-accent);
      text-align: center;
      margin: 1rem 0;
    }

    .formula-desc {
      font-size: 0.75rem;
      color: var(--color-text-muted);
      text-align: center;
      margin: 0.5rem 0;
    }

    .cooling-types,
    .tabu-features,
    .evo-operators {
      background: var(--color-card-bg);
      padding: 1rem;
      border-radius: 6px;
      font-size: 0.875rem;
    }

    .cooling-types p,
    .tabu-features p,
    .evo-operators p {
      margin: 0.25rem 0;
      color: var(--color-text);
    }

    .comparison-table-section {
      margin-bottom: 4rem;
    }

    .comparison-table-section h2 {
      font-size: 2rem;
      margin-bottom: 2rem;
      color: var(--color-text);
      text-align: center;
    }

    .table-container {
      overflow-x: auto;
    }

    .comparison-table {
      width: 100%;
      border-collapse: collapse;
      background: var(--color-card-bg);
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .comparison-table th {
      background: var(--color-accent);
      color: white;
      padding: 1rem;
      text-align: left;
      font-weight: 600;
      font-size: 0.875rem;
    }

    .comparison-table td {
      padding: 1rem;
      border-bottom: 1px solid var(--color-border);
      font-size: 0.875rem;
    }

    .comparison-table tr:last-child td {
      border-bottom: none;
    }

    .comparison-table td:first-child {
      font-weight: 500;
      color: var(--color-text);
    }

    .next-section {
      background: var(--color-code-bg);
      padding: 3rem 2rem;
      border-radius: 12px;
      text-align: center;
    }

    .next-content h2 {
      color: var(--color-text);
      margin-bottom: 1rem;
      font-size: 2rem;
    }

    .next-content p {
      color: var(--color-text-muted);
      font-size: 1.125rem;
      margin-bottom: 2rem;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    .next-button {
      display: inline-block;
      background: var(--color-accent);
      color: white;
      padding: 1rem 2rem;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
      transition: background-color 0.2s ease;
    }

    .next-button:hover {
      background: var(--color-accent-light);
    }

    @media (max-width: 768px) {
      .key-differences {
        grid-template-columns: 1fr;
      }

      .landscape-problems {
        grid-template-columns: 1fr;
      }

      .applications-grid {
        grid-template-columns: 1fr;
      }

      .techniques-grid {
        grid-template-columns: 1fr;
      }

      .algorithms-grid {
        grid-template-columns: 1fr;
      }

      .comparison-table {
        font-size: 0.75rem;
      }

      .comparison-table th,
      .comparison-table td {
        padding: 0.5rem;
      }
    }
  </style>
</Layout>